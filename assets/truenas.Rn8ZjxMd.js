import{_ as S}from"./ValaxyMain.BiNmC6jr.js";import"./chunks/nprogress.B1y48mDD.js";import{d as I,u as v,a as N}from"./chunks/vue-router.Cfe5vN_I.js";import{$ as z,a1 as t,V as O,a0 as U,a2 as o,a4 as l,a5 as n,X as k}from"./framework.Bz32nx7L.js";import"./app.BkVtFjYs.js";import"./chunks/dayjs.BX5x0S-s.js";import"./chunks/vue-i18n.D51u75hK.js";import"./chunks/pinia.Bgqu1Nyu.js";/* empty css                    */const g="/OpenList-Docs/img/truenas/InstallCustomAppApplicationName.png",p="/OpenList-Docs/img/truenas/InstallCustomAppImageConfiguration.png",c="/OpenList-Docs/img/truenas/InstallCustomAppContainerEntrypoint.png",d="/OpenList-Docs/img/truenas/InstallCustomAppSecurityContextConfiguration.png",m="/OpenList-Docs/img/truenas/InstallCustomAppNetworkConfiguration.png",f="/OpenList-Docs/img/truenas/InstallCustomAppPortalConfiguration.png",y="/OpenList-Docs/img/truenas/InstallCustomAppStorageConfiguration.png",h="/OpenList-Docs/img/truenas/InstallCustomResourcesConfiguration.png",D=I("/guide/installation/truenas",async i=>JSON.parse('{"title":{"en":"Use TrueNAS Scale","zh-CN":"使用 TrueNAS Scale"},"description":"","frontmatter":{"title":{"en":"Use TrueNAS Scale","zh-CN":"使用 TrueNAS Scale"},"icon":"iconfont icon-geometry","top":44,"categories":["guide","installation"]},"headers":[],"relativePath":"pages/guide/installation/truenas.md","lastUpdated":1757892881000}'),{lazy:(i,u)=>i.name===u.name}),W={__name:"truenas",setup(i,{expose:u}){const{data:a}=D(),b=N(),C=v(),s=Object.assign(C.meta.frontmatter||{},a.value?.frontmatter||{});return b.currentRoute.value.data=a.value,k("valaxy:frontmatter",s),globalThis.$frontmatter=s,u({frontmatter:{title:{en:"Use TrueNAS Scale","zh-CN":"使用 TrueNAS Scale"},icon:"iconfont icon-geometry",top:44,categories:["guide","installation"]}}),(e,r)=>{const A=S;return U(),z(A,{frontmatter:O(s)},{"main-content-md":t(()=>r[0]||(r[0]=[l("h2",{lang:"en",id:"install-the-app",tabindex:"-1"},[n("Install the App "),l("a",{class:"header-anchor",href:"#install-the-app","aria-label":'Permalink to "Install the App { lang="en" }"'},"​")],-1),l("h2",{lang:"zh-CN",id:"安装应用程序",tabindex:"-1"},[n("安装应用程序 "),l("a",{class:"header-anchor",href:"#安装应用程序","aria-label":'Permalink to "安装应用程序 { lang="zh-CN" }"'},"​")],-1),l("div",{lang:"en"},[l("p",null,[n("Since OpenList is not officially available in the TrueNAS Apps catalog, you must use the "),l("strong",null,"Custom App"),n(" feature to install it.")]),l("p",null,[n("Follow these steps to deploy OpenList via the "),l("strong",null,"Install iX App"),n(" wizard:")]),l("ol",null,[l("li",null,[l("p",null,[l("strong",null,"Application Name"),l("br"),n(" Enter a name for your application (e.g., "),l("code",null,"openlist"),n("). Keep the default version unless you require a specific tag.")]),l("figure",null,[l("img",{src:g,alt:"Application Name",loading:"lazy",decoding:"async"})])]),l("li",null,[l("p",null,[l("strong",null,"Image Configuration")]),l("ul",null,[l("li",null,[l("strong",null,"Repository"),n(": "),l("code",null,"openlistteam/openlist")]),l("li",null,[l("strong",null,"Tag"),n(": "),l("code",null,"latest"),n(" (or specify another version if needed)"),l("br"),n(" Leave all other fields at their defaults.")])]),l("figure",null,[l("img",{src:p,alt:"Image Configuration",loading:"lazy",decoding:"async"})])]),l("li",null,[l("p",null,[l("strong",null,"Container Configuration")]),l("ul",null,[l("li",null,[l("strong",null,"Environment Variables"),n(":"),l("br"),n(" Add a new variable: "),l("ul",null,[l("li",null,[n("Name: "),l("code",null,"UMASK")]),l("li",null,[n("Value: "),l("code",null,"022")])])]),l("li",null,[l("strong",null,"Restart Policy"),n(": Select "),l("code",null,"Unless Stopped"),n(" to ensure automatic restart on failure.")]),l("li",null,[l("strong",null,"Entrypoint"),n(": Leave unchanged — it is pre-configured."),l("br"),n(" Other settings may be adjusted as desired.")])]),l("figure",null,[l("img",{src:c,alt:"Container Configuration",loading:"lazy",decoding:"async"})])]),l("li",null,[l("p",null,[l("strong",null,"Device"),l("br"),n(" No device passthrough is required for basic operation. Keep defaults.")])]),l("li",null,[l("p",null,[l("strong",null,"Security Context Configuration")]),l("ul",null,[l("li",null,[n("✅ Check "),l("strong",null,"Custom User")]),l("li",null,[n("Set "),l("strong",null,"UID"),n(" and "),l("strong",null,"GID"),n(" to match a non-root user with permissions to access your storage volumes."),l("br"),n(" Default: "),l("code",null,"568/568"),n(" (apps/apps) — recommended for security.")]),l("li",null,[n("⚠️ Avoid using "),l("code",null,"root"),n(" (UID/GID = 0) unless absolutely necessary — it poses a security risk. "),l("blockquote",null,[l("p",null,[n("💡 If you plan to use an "),l("strong",null,"ixVolume"),n(" later, ensure this user has write permissions to the target dataset.")])])])]),l("figure",null,[l("img",{src:d,alt:"Security Context Configuration",loading:"lazy",decoding:"async"})])]),l("li",null,[l("p",null,[l("strong",null,"Network Configuration")]),l("ul",null,[l("li",null,[n("Add a port mapping: "),l("ul",null,[l("li",null,[l("strong",null,"Host Port"),n(": Any unused port (e.g., "),l("code",null,"10544"),n(")")]),l("li",null,[l("strong",null,"Container Port"),n(": "),l("code",null,"5244")]),l("li",null,[l("strong",null,"Host IP"),n(": "),l("code",null,"0.0.0.0"),n(" (accessible from any network) or restrict to a local IP if preferred."),l("br"),n(" Add additional mappings only if exposing other services.")])])])]),l("figure",null,[l("img",{src:m,alt:"Network Configuration",loading:"lazy",decoding:"async"})])]),l("li",null,[l("p",null,[l("strong",null,"Portal Configuration")]),l("ul",null,[l("li",null,[l("strong",null,"Port"),n(": Match the Host Port from Step 6 (e.g., "),l("code",null,"10544"),n(")")]),l("li",null,[l("strong",null,"Name"),n(": Optional — set to something descriptive like “OpenList Web UI”"),l("br"),n(" Once saved, a "),l("strong",null,"Web UI"),n(" button will appear on the Apps page.")])]),l("figure",null,[l("img",{src:f,alt:"Portal Configuration",loading:"lazy",decoding:"async"})])]),l("li",null,[l("p",null,[l("strong",null,"Storage Configuration")]),l("ul",null,[l("li",null,[n("✅ "),l("strong",null,"Mandatory"),n(": At least one volume must be configured.")]),l("li",null,[n("Click "),l("strong",null,"Add"),n(" → Select storage type ("),l("code",null,"ixVolume"),n(" recommended for persistence).")]),l("li",null,[l("strong",null,"Mount Path"),n(": "),l("code",null,"/opt/openlist/data")]),l("li",null,[n("Ensure the container’s user (from Step 5) has "),l("strong",null,"write permissions"),n(" to this location.")]),l("li",null,"Optionally add more volumes for logs, configs, etc.")]),l("blockquote",null,[l("p",null,[n("📌 Tip: Use "),l("strong",null,"ixVolume"),n(" instead of host paths when possible — it ensures better integration with TrueNAS backup and snapshot features.")])]),l("figure",null,[l("img",{src:y,alt:"Storage Configuration",loading:"lazy",decoding:"async"})])]),l("li",null,[l("p",null,[l("strong",null,"Labels Configuration"),l("br"),n(" Skip — not required for basic operation.")])]),l("li",null,[l("p",null,[l("strong",null,"Resources Configuration"),n(),l("em",null,"(Optional)"),l("br"),n(" Set CPU/memory limits if you wish to constrain resource usage (e.g., 1 core, 512MB RAM).")]),l("figure",null,[l("img",{src:h,alt:"Resources Configuration",loading:"lazy",decoding:"async"})])]),l("li",null,[l("p",null,[l("strong",null,"Final Step"),l("br"),n(" Click "),l("strong",null,"Install"),n(" to deploy the OpenList container."),l("br"),n(" Wait for status to turn green → then click "),l("strong",null,"Web UI"),n(" to access the interface.")])])])],-1),l("div",{lang:"zh-CN"},[l("p",null,[n("由于 OpenList 未在 TrueNAS 应用市场官方提供，您必须使用 "),l("strong",null,"自定义应用"),n(" 功能进行安装。")]),l("p",null,[n("请按以下步骤通过 "),l("strong",null,"安装 iX App"),n(" 向导部署 OpenList：")]),l("ol",null,[l("li",null,[l("p",null,[l("strong",null,"应用名称"),l("br"),n(" 输入应用名称（例如："),l("code",null,"openlist"),n("）。版本保持默认即可，除非需要特定版本。")]),l("figure",null,[l("img",{src:g,alt:"应用名称",loading:"lazy",decoding:"async"})])]),l("li",null,[l("p",null,[l("strong",null,"镜像配置")]),l("ul",null,[l("li",null,[l("strong",null,"仓库地址"),n("："),l("code",null,"openlistteam/openlist")]),l("li",null,[l("strong",null,"标签"),n("："),l("code",null,"latest"),n("（或指定其他版本号）"),l("br"),n(" 其他选项保持默认。")])]),l("figure",null,[l("img",{src:p,alt:"镜像配置",loading:"lazy",decoding:"async"})])]),l("li",null,[l("p",null,[l("strong",null,"容器配置")]),l("ul",null,[l("li",null,[l("strong",null,"环境变量"),n("："),l("br"),n(" 新增变量： "),l("ul",null,[l("li",null,[n("名称："),l("code",null,"UMASK")]),l("li",null,[n("值："),l("code",null,"022")])])]),l("li",null,[l("strong",null,"重启策略"),n("：选择 "),l("code",null,"Unless Stopped"),n("，确保容器崩溃后自动重启。")]),l("li",null,[l("strong",null,"入口点"),n("：无需修改，已预配置。"),l("br"),n(" 其他设置可根据需求调整。")])]),l("figure",null,[l("img",{src:c,alt:"容器配置",loading:"lazy",decoding:"async"})])]),l("li",null,[l("p",null,[l("strong",null,"设备"),l("br"),n(" 基础使用无需设备直通，保持默认即可。")])]),l("li",null,[l("p",null,[l("strong",null,"安全上下文配置")]),l("ul",null,[l("li",null,[n("✅ 勾选 "),l("strong",null,"自定义用户")]),l("li",null,[n("设置 "),l("strong",null,"UID 和 GID"),n(" 为具有存储卷写入权限的非 root 用户。"),l("br"),n(" 默认值："),l("code",null,"568/568"),n("（apps/apps）——推荐用于安全性。")]),l("li",null,[n("⚠️ 避免使用 "),l("code",null,"root"),n("（UID/GID=0），除非必要，否则存在安全隐患。 "),l("blockquote",null,[l("p",null,[n("💡 若后续使用 "),l("strong",null,"ixVolume"),n(" 存储数据，请确保该用户对该数据集拥有写入权限。")])])])]),l("figure",null,[l("img",{src:d,alt:"安全上下文配置",loading:"lazy",decoding:"async"})])]),l("li",null,[l("p",null,[l("strong",null,"网络配置")]),l("ul",null,[l("li",null,[n("添加端口映射： "),l("ul",null,[l("li",null,[l("strong",null,"宿主机端口"),n("：任意未被占用端口（如 "),l("code",null,"10544"),n("）")]),l("li",null,[l("strong",null,"容器端口"),n("："),l("code",null,"5244")]),l("li",null,[l("strong",null,"绑定IP"),n("：默认 "),l("code",null,"0.0.0.0"),n("（全网可访问），也可限定为本地IP以增强安全。"),l("br"),n(" 如需暴露更多端口，可继续添加。")])])])]),l("figure",null,[l("img",{src:m,alt:"网络配置",loading:"lazy",decoding:"async"})])]),l("li",null,[l("p",null,[l("strong",null,"门户配置")]),l("ul",null,[l("li",null,[l("strong",null,"端口"),n("：填写上一步设置的宿主机端口（如 "),l("code",null,"10544"),n("）")]),l("li",null,[l("strong",null,"名称"),n("：可选，建议填写如 “OpenList Web 界面” 以便识别"),l("br"),n(" 配置完成后，应用列表中将显示 "),l("strong",null,"Web UI"),n(" 按钮。")])]),l("figure",null,[l("img",{src:f,alt:"门户配置",loading:"lazy",decoding:"async"})])]),l("li",null,[l("p",null,[l("strong",null,"存储配置")]),l("ul",null,[l("li",null,[n("✅ "),l("strong",null,"必填项"),n("：至少配置一个存储卷用于保存数据。")]),l("li",null,[n("点击 "),l("strong",null,"添加"),n(" → 选择存储类型（推荐使用 "),l("strong",null,"ixVolume"),n(" 以获得最佳持久化支持）")]),l("li",null,[l("strong",null,"挂载路径"),n("："),l("code",null,"/opt/openlist/data")]),l("li",null,[n("确保第5步中指定的用户对该路径有"),l("strong",null,"写入权限"),n("。")]),l("li",null,"可选：添加额外卷用于日志、配置等。")]),l("blockquote",null,[l("p",null,[n("📌 提示：优先使用 "),l("strong",null,"ixVolume"),n(" 而非主机路径，便于集成 TrueNAS 的快照与备份功能。")])]),l("figure",null,[l("img",{src:y,alt:"存储配置",loading:"lazy",decoding:"async"})])]),l("li",null,[l("p",null,[l("strong",null,"标签配置"),l("br"),n(" 跳过 —— 基础部署无需配置。")])]),l("li",null,[l("p",null,[l("strong",null,"资源配置"),n("（可选）"),l("br"),n(" 可设置 CPU 与内存上限（如：1 核心、512MB 内存），避免资源过度占用。")]),l("figure",null,[l("img",{src:h,alt:"资源配置",loading:"lazy",decoding:"async"})])]),l("li",null,[l("p",null,[l("strong",null,"完成安装"),l("br"),n(" 点击 "),l("strong",null,"安装"),n(" 启动容器。"),l("br"),n(" 等待状态变为绿色后，点击 "),l("strong",null,"Web UI"),n(" 按钮即可访问 OpenList 界面。")])])])],-1)])),"main-header":t(()=>[o(e.$slots,"main-header")]),"main-header-after":t(()=>[o(e.$slots,"main-header-after")]),"main-nav":t(()=>[o(e.$slots,"main-nav")]),"main-content-before":t(()=>[o(e.$slots,"main-content-before")]),"main-content":t(()=>[o(e.$slots,"main-content")]),"main-content-after":t(()=>[o(e.$slots,"main-content-after")]),"main-nav-before":t(()=>[o(e.$slots,"main-nav-before")]),"main-nav-after":t(()=>[o(e.$slots,"main-nav-after")]),comment:t(()=>[o(e.$slots,"comment")]),footer:t(()=>[o(e.$slots,"footer")]),aside:t(()=>[o(e.$slots,"aside")]),"aside-custom":t(()=>[o(e.$slots,"aside-custom")]),default:t(()=>[o(e.$slots,"default")]),_:3},8,["frontmatter"])}}};export{W as default,D as usePageData};
